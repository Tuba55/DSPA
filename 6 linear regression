#https://www.kaggle.com/datasets/masoudnick/price-of-potato
"""DSPA6.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Q3AbTA0b2pOJyET5Eu2yH7bwcm8Oo0Gk
"""

import numpy as np
import pandas as pd
from sklearn.linear_model import LinearRegression
import matplotlib.pyplot as plt

# Load the dataset
df = pd.read_csv("potato1.csv")
df

# Scatter plot of the data
plt.xlabel('Potato in kilogram(kg)')
plt.ylabel('Price in TAKA')
plt.scatter(df['potato_kg'], df['price'])

# Define the features (X) and target (y)
x = df[['potato_kg']]
y = df['price']

# Split the dataset into training and testing sets
from sklearn.model_selection import train_test_split
x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.2)

# Check the shape of the feature data
print(x.shape)

# Print out the training and testing sets
print(x_train)
print(x_test)
print(y_train)
print(y_test)

# Create and fit the Linear Regression model
reg = LinearRegression()
reg.fit(x_train, y_train)

# Make predictions using the test set
reg.predict(x_test)

# Test score of the model
print(reg.score(x_test, y_test))

# Example prediction for a specific value
reg.predict([[7.89908]])

# User input for predicting potato price
x = input('To Know the potato price, Enter the potato kilogram up to 1: ')
import numpy as np
array = np.array(x)
fvalu = array.astype(np.double)
fvalu_2D = ([[fvalu]])

# Make the price prediction
my_prediction = reg.predict(fvalu_2D)

# Display the price
price = np.array(my_prediction)
price = price.item()
print('So', x, 'kilogram potato price is = ', price, 'Taka')
